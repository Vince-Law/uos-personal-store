manifestVersion: 1
id: wild-gablota-music-server
category: media
name: Music Stream
icon: https://iili.io/fEa1mue.png
version: "1.4.3"

tagline: Self-hosted music library streaming server
description: >-
  Music Stream is a self-hosted music library streaming server that allows you to
  stream your personal music collection from anywhere. Built with Node.js, Express,
  and PostgreSQL, it provides a modern API for managing and streaming your local
  music files.


  Features:

    - Stream your local music library from anywhere
    - Automatic music file scanning and metadata extraction
    - Album and artist management with cover art support
    - Offline support with local database synchronization
    - Incremental scanning for detecting new files
    - User authentication with JWT
    - RESTful API for easy integration
    - Supports various audio formats through FFmpeg


  The app provides a complete backend API that can be accessed through a web interface
  or mobile app. Your music files remain on your Umbrel device while you can stream
  them securely from any location through the Cloudflare tunnel.

developer: VinceLaw
website: https://github.com/Vince-Law/music-stream
dependencies: []
repo: https://github.com/Vince-Law/music-stream
support: https://github.com/Vince-Law/music-stream
port: 1208
gallery: []
path: ""
defaultUsername: admin
defaultPassword: admin123
releaseNotes: >-
  Version 1.4.3 - Automatic Token Refresh

    Major Features:
    - Implemented automatic JWT token refresh to prevent session expiration
    - Enhanced authentication flow with seamless token renewal
    - Improved error handling with better token expiry detection

    Improvements:
    - Added /api/auth/refresh endpoint for token renewal
    - Updated auth middleware to distinguish expired vs invalid tokens
    - Enhanced client-side retry logic for failed requests
    - Users no longer need to manually re-login when tokens expire
    - Updated Docker image maksimab/music-server:1.4.3

  Version 1.4.2 - Web Player Bug Fixes

    Bug Fixes:
    - Fixed music streaming 404 error - added /api/music/stream endpoint
    - Fixed liked songs not displaying - corrected API response format
    - Web player now fully functional with music playback and liked songs
    - Updated Docker image maksimab/music-server:1.4.2

  Version 1.4.1 - Maintenance Release

    Updates:
    - Version bump to 1.4.1
    - Updated Docker image maksimab/music-server:1.4.1
    - Build system improvements

  Version 1.4.0 - Stable Web Player Release

    Major Features:
    - Full-featured web music player interface optimized for desktop
    - Artist/Album/Song browsing with modern grid layouts
    - Audio playback controls (play, pause, skip, seek, volume)
    - Queue management with visual feedback
    - Library view with statistics tiles (Liked Songs, Most Listened, Stats)
    - Most Listened Songs view showing top tracks by minutes
    - Liked songs integration and playback statistics
    - Modern dark theme UI (Spotify-inspired design)
    - Cross-page navigation between Player, Library, and Admin
    
    Bug Fixes:
    - Fixed all liked songs loading errors with null checks
    - Fixed now playing bar positioning to stick to bottom
    - Fixed library stats and most listened songs error handling
    - Fixed queue display for songs without album data
    - Fixed playback errors for incomplete song metadata
    
    Improvements:
    - Unified dark theme across all pages
    - Robust error handling for all API responses
    - Optional chaining for safe property access
    - Graceful degradation when data is missing
    - Published Docker image maksimab/music-server:1.4.0

  Version 1.3.15 - Web Player Fixes & Library View

    - FIXED: Liked songs loading error due to undefined properties
    - FIXED: Now playing bar positioning to stick to bottom
    - FIXED: Flexbox layout issues in player interface
    - FIXED: Library stats loading errors with proper null checks
    - FIXED: Most Listened songs view error handling
    - FIXED: Queue display errors for songs without album data
    - FIXED: Playback errors for incomplete song metadata
    - NEW: Library view with statistics tiles (Liked Songs, Most Listened, Stats)
    - NEW: Most Listened Songs view showing top tracks by minutes
    - IMPROVED: Unified dark theme across all pages (Player, Admin, Library)
    - IMPROVED: Consistent color scheme with CSS variables
    - IMPROVED: Robust error handling for API responses
    - Published Docker image maksimab/music-server:1.3.15

  Version 1.3.14 - Web Player UI

    - NEW: Full-featured web music player interface (player.html)
    - NEW: Artist/Album/Song browsing with modern grid layouts
    - NEW: Audio playback controls (play, pause, skip, seek, volume)
    - NEW: Queue management with visual feedback
    - NEW: Liked songs integration and playback statistics
    - NEW: Modern dark theme UI (Spotify-inspired design)
    - NEW: Shared CSS theme for consistent styling across all pages
    - IMPROVED: Cross-page navigation between Player, Library, and Admin
    - IMPROVED: Default landing page changed to Player for better UX
    - IMPROVED: Breadcrumb navigation for easy browsing
    - Published Docker image maksimab/music-server:1.3.14

  Version 1.3.13 - Database Backup Fix

    - Fixed PostgreSQL backup functionality - resolved "pg_dump: not found" error
    - Added postgresql-client to Docker image for proper database operations
    - Database backups now create complete PostgreSQL dumps via pg_dump
    - Database restores now properly execute via psql
    - Ensures all database data is backed up (songs, albums, artists, stats, settings)
    - Published Docker image maksimab/music-server:1.3.13

  Version 1.3.12 - Most Listened Songs Feature

    - New "Most Listened Songs" tile in Library with top 10 tracks by minutes listened
    - Enhanced playback statistics with detailed listening time tracking
    - Added API endpoint: GET /api/playback-stats/stats/top-by-minutes
    - Ranked song display with minutes listened and play count statistics
    - Pull-to-refresh functionality for real-time statistics updates
    - Published refreshed Docker image maksimab/music-server:1.3.12

  Version 1.3.11 - Enhanced Cleanup Functionality

    - Added intelligent cleanup that removes songs with missing files from disk
    - Enhanced cleanup flow: missing songs → empty artists → empty albums  
    - Improved file existence checking with detailed logging
    - Updated API documentation for enhanced cleanup endpoint
    - Published refreshed Docker image maksimab/music-server:1.3.11

  Version 1.3.10 - Admin Issues & Logs Refresh

    - Restores artist metadata so the issues dashboard loads correctly
    - Cleans up noisy fallback log messages and trims blank lines
    - Adds dedicated logs page with compact formatting and search
    - Published refreshed Docker image maksimab/music-server:1.3.10

  Version 1.3.9 - Smarter Audio Quality Labels

    - Adds fast HQ/LQ detection with lossless badges
    - Persists quality metadata for admin UI display
    - Published refreshed Docker image maksimab/music-server:1.3.9

  Earlier updates:
    Version 1.3.8 - Reliable Admin Logs

    - Fixed Express route bindings so admin logs load reliably
    - Hardened console log fallback to prevent undefined errors
    - Published refreshed Docker image maksimab/music-server:1.3.8

    Version 1.3.7 - Fixed Logs Controller

    - Fixed static method access error in logs controller
    - Improved console log capture and buffering
    - Enhanced Docker container compatibility
    - Stabilized log endpoint functionality
    - Added better error handling for log sources

  Version 1.3.6 - Server Logs with Auto-Refresh

    - Added dedicated admin logs page with real-time monitoring
    - Auto-refresh functionality for live log viewing
    - Log filtering by level (Error, Warning, Info, Debug)
    - Search functionality for log entries
    - Console logs buffer with persistence
    - PM2 and application log file support
    - Log statistics and source information

  Historical features:
    Version 1.3.0 - High Quality Audio Support

    - Added HQ indicator for high-fidelity songs in playback screen
    - Enhanced audio quality detection (FLAC, ALAC, WAV, 320kbps+)
    - Improved metadata extraction with quality information
    - Database schema updates for quality tracking
    - Visual feedback for lossless and high-bitrate audio formats
    - Orange "HQ" badge for premium quality songs

    - Full music library streaming capabilities
    - PostgreSQL database integration
    - Automatic metadata extraction
    - JWT authentication
    - Offline support with local database
    - Incremental file scanning
    - Album cover art management

torOnly: false
